<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
  <title>fintxn</title>

  <!-- Telegram WebApp JS -->
  <script src="https://telegram.org/js/telegram-web-app.js"></script>

  <!-- Tailwind CSS CDN (Content Delivery Network ‚Äî —Å–µ—Ç—å –¥–æ—Å—Ç–∞–≤–∫–∏ –∫–æ–Ω—Ç–µ–Ω—Ç–∞) -->
  <script src="https://cdn.tailwindcss.com"></script>

  <script>
    tailwind.config = {
      theme: {
        extend: {
          borderRadius: { xl2: "18px" },
          boxShadow: {
            soft: "0 10px 30px rgba(0,0,0,.35)",
            inset: "inset 0 1px 0 rgba(255,255,255,.06)",
          },
          colors: {
            tg: {
              bg: 'var(--tg-theme-bg-color, #0f1720)',
              text: 'var(--tg-theme-text-color, #e5e7eb)',
              hint: 'var(--tg-theme-hint-color, rgba(229,231,235,.55))',
              button: 'var(--tg-theme-button-color, #3390ec)',
              buttonText: 'var(--tg-theme-button-text-color, #ffffff)',
              secondaryBg: 'var(--tg-theme-secondary-bg-color, rgba(255,255,255,.06))',
            },
            brand: {
              bg: "#0b121a",
              card: "rgba(255,255,255,.06)",
              card2: "rgba(255,255,255,.08)",
              line: "rgba(255,255,255,.10)",
              muted: "rgba(255,255,255,.45)",
              green: "#6f8f22",
              red: "#8f3b4a",
              blue: "#0a7d9b",
              cyan: "#0ea5b7",
            }
          }
        }
      }
    }
  </script>

  <link rel="stylesheet" href="./app.css" />
</head>

<body class="min-h-screen bg-brand-bg text-tg-text">
  <div class="min-h-screen w-full flex justify-center">
    <div class="w-full max-w-md px-4 pb-24 pt-3">
      <!-- Top bar -->
      <header class="pt-1">
        <div class="flex items-center justify-between">
          <button id="btnClose" class="text-brand-cyan text-lg font-medium opacity-90">–ó–∞–∫—Ä—ã—Ç—å</button>
          <div class="text-center">
            <div class="text-xl font-semibold tracking-wide">fintxn</div>
            <div class="text-xs uppercase tracking-widest text-brand-muted mt-0.5">–º–∏–Ω–∏-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ</div>
          </div>
          <button id="btnMenu" class="w-10 h-10 flex items-center justify-center rounded-full bg-brand-card border border-brand-line">
            <span class="text-xl leading-none">‚ãØ</span>
          </button>
        </div>
      </header>

      <!-- Form -->
      <main class="mt-6 space-y-5">

        <!-- Date + Type -->
        <section class="grid grid-cols-2 gap-3">
          <div>
            <div class="label">–î–∞—Ç–∞</div>
            <div class="glass-input">
              <input id="date" type="text" inputmode="numeric" class="w-full bg-transparent outline-none"
                     placeholder="–î–î.–ú–ú.–ì–ì–ì–ì" />
            </div>
          </div>

          <div>
            <div class="label">–¢–∏–ø</div>
            <div class="seg glass-seg">
              <button class="seg-btn" data-type="in">–ü–æ–ª—É—á–∏–ª</button>
              <button class="seg-btn" data-type="out">–û—Ç–¥–∞–ª</button>
              <button class="seg-btn" data-type="fx">–û–±–º–µ–Ω—è–ª</button>
            </div>
          </div>
        </section>

        <!-- Amount -->
        <section>
          <div class="label" id="amountLabel">–°—É–º–º–∞</div>
          <div class="grid grid-cols-3 gap-3">
            <div class="glass-input col-span-2">
              <input id="amount" type="text" inputmode="decimal" class="w-full bg-transparent outline-none"
                     placeholder="0 000,00" />
            </div>
            <button id="curMain" class="glass-pill">UZS</button>
          </div>
          <div class="hint mt-2" id="amountHint">–§–æ—Ä–º–∞—Ç: 1 234 567,89</div>
        </section>

        <!-- FX block -->
        <section id="fxBlock" class="fx-block hidden">
          <div class="fx-wrap">
            <div class="hint mb-2">–ö—É—Ä—Å UZS –Ω–∞ 1 –µ–¥. –≤–∞–ª—é—Ç—ã</div>

            <div class="grid grid-cols-3 gap-3">
              <div class="glass-input col-span-2">
                <input id="fxRate" type="text" inputmode="decimal" class="w-full bg-transparent outline-none"
                       placeholder="12 200" />
              </div>
              <button id="curFx" class="glass-pill">USD</button>
            </div>

            <div class="mt-2 text-sm" id="fxTotalLine">
              <span class="text-brand-green font-medium">–ò—Ç–æ–≥–æ: + 0,00 USD</span>
            </div>
          </div>
        </section>

        <!-- Counterparty -->
        <section id="counterpartyBlock">
          <div class="label">–ö–æ–Ω—Ç—Ä–∞–≥–µ–Ω—Ç</div>
          <div class="glass-input">
            <input id="counterparty" type="text" class="w-full bg-transparent outline-none" placeholder="–ò–º—è, –º–∞–≥–∞–∑–∏–Ω..." />
          </div>
        </section>

        <!-- Comment -->
        <section>
          <div class="label">–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π</div>
          <div class="glass-input">
            <input id="comment" type="text" class="w-full bg-transparent outline-none" placeholder="–î–µ—Ç–∞–ª–∏ –æ–ø–µ—Ä–∞—Ü–∏–∏..." />
          </div>
        </section>

        <!-- Photo -->
        <section>
          <label class="photo-drop" for="photo">
            <div class="flex items-center gap-3">
              <div class="icon-cam">üì∑</div>
              <div class="text-brand-muted">–î–æ–±–∞–≤–∏—Ç—å —Ñ–æ—Ç–æ</div>
            </div>
            <input id="photo" type="file" accept="image/*" class="hidden" />
          </label>
          <div id="photoMeta" class="hint mt-2 hidden"></div>
        </section>

        <!-- Save -->
        <section>
          <button id="btnSave" class="btn-save btn-save--blue">
            <span class="mr-2">üíæ</span> –°–æ—Ö—Ä–∞–Ω–∏—Ç—å
          </button>
        </section>

        <!-- Last records -->
        <section class="mt-6">
          <div class="flex items-center justify-between">
            <div class="text-lg font-semibold">–ü–æ—Å–ª–µ–¥–Ω–∏–µ –∑–∞–ø–∏—Å–∏</div>
            <div class="pill-counter" id="pager">3 / 3</div>
          </div>

          <div id="list" class="mt-4 space-y-3"></div>
        </section>

      </main>
    </div>
  </div>

  <!-- Toast -->
  <div id="toast" class="toast hidden">
    <div class="toast-inner">
      <span class="mr-2">üì∂</span>
      <span>–ù–µ—Ç —Å–≤—è–∑–∏</span>
    </div>
  </div>

  <script src="./app.js"></script>
</body>
</html>
